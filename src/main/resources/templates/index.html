<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->
<!-- Begin Head -->

<head>
    <title>HDFS网盘系统</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <meta name="MobileOptimized" content="320">
    <!--Start Style -->
    <link rel="stylesheet" type="text/css" href="../static/assets/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="../static/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../static/assets/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../static/assets/css/icofont.min.css">
    <link rel="stylesheet" type="text/css" href="../static/assets/css/style.css">
	  <link rel="stylesheet" id="theme-change" type="text/css" href="#">
    <!-- Favicon Link -->
    <link rel="shortcut icon" type="image/png" href="../static/assets/images/favicon.png">
</head>

<body>
	<div class="loader">
	  <div class="spinner">
		<img src="../static/assets/images/loader.gif" alt=""/>
	  </div> 
	</div>
    <!-- Main Body -->
    <div class="page-wrapper">
        <!-- Header Start -->
        <header class="header-wrapper main-header">
            <div class="header-inner-wrapper">
                <div class="logo-wrapper">
                    <a href="http://localhost:8080/index" class="admin-logo">
                        <img src="../static/assets/images/logo.png" alt="">
                    </a>
                </div>
                <div class="header-right">
                    <div class="serch-wrapper">
                        <form th:action="@{find(find=${find})}" method="get">
                            <input id="find" name="find" type="text" placeholder="查询...">
                        </form>
                        <a class="search-close" href="javascript:void(0);"><span class="icofont-close-line"></span></a>
                    </div>
                    <div class="header-left">
                        <div class="header-links">
                            <a href="javascript:void(0);" class="toggle-btn">
                                <span></span>
                            </a>
                        </div>
                        <div class="header-links search-link">
                            <a class="search-toggle" href="javascript:void(0);">
                                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve">
                                    <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
                                    s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
                                    c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
                                    s-17-7.626-17-17S14.61,6,23.984,6z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                    <div class="header-controls">
                      <div class="setting-wrapper header-links">
                        <a href="javascript:void(0);" class="setting-info">
                                <span class="header-icon">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">
                                        <path d="M7 0h2v3h-2v-3z"></path>
                                        <path d="M6 4v3h1v9h2v-9h1v-3z"></path>
                                        <path d="M2 0h2v8h-2v-8z"></path>
                                        <path d="M1 9v3h1v4h2v-4h1v-3z"></path>
                                        <path d="M12 0h2v10h-2v-10z"></path>
                                        <path d="M11 11v3h1v2h2v-2h1v-3z"></path>
                                    </svg>
                                </span>
                        </a>
                      </div>
                        <div class="user-info-wrapper header-links">
                            <a href="javascript:void(0);" class="user-info">
                                <img src="../static/assets/images/user.jpg" alt="" class="user-img">
                                <div class="blink-animation">
                                    <span class="blink-circle"></span>
                                    <span class="main-circle"></span>
                                </div>
                            </a>
                            <div class="user-info-box">
                                <div class="drop-down-header">
                                    <h4 th:text="${user.getUsername()}">John Brown</h4>
                                </div>
                                <ul>
                                    <li>
                                        <a href="javascript:logout()">
                                            <i class="fas fa-sign-out-alt"></i> 退出登录
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Sidebar Start -->
        <aside class="sidebar-wrapper">
            <div class="side-menu-wrap">
                <ul class="main-menu">
                    <li>
                        <a href="javascript:void(0);" class="active">
                            <span class="icon-menu feather-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                            </span>
                            <span class="menu-text">
                                主页
                            </span>
                        </a>
                        <ul class="sub-menu">
                            <li>
                                <a href="http://localhost:8080/fileShare/fileShare.html">
                                    <span class="icon-dash">
                                    </span>
                                    <span class="menu-text">
                                        文件分享
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="user.html">
                                    <span class="icon-dash">
                                    </span>
                                    <span class="menu-text">
                                        User
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </aside>
        <!-- Container Start -->
        <div class="page-wrapper">
            <div class="main-content">
                <!-- Page Title Start -->
                <div class="row">
                    <div class="colxl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <div class="page-title-wrapper">
                          <div class="ad-breadcrumb ad-breadcrumb2 dd-flex">
                            <div class="form-group">
                              <div class="ad-user-btn">
                                <input id="folder" name="folder" type="text" placeholder="新建文件夹" class="form-control" />
                              </div>
                            </div>
                            <div class="form-group ad-apply-cart">
                              <button id="folderButton" onclick="mkdir()" class="ad-btn">创建</button>
                            </div>
                          </div>
                          <div class="card-body dd-flex align-items-center"></div>
                          <div class="ad-breadcrumb ad-breadcrumb2 dd-flex">
                              <div class="form-group">
                                <div class="ad-user-btn">
                                  <input class="form-control" type="text" placeholder="提取码">
                                </div>
                              </div>
                              <div class="form-group ad-apply-cart">
                                <a class="ad-btn">提取文件</a>
                              </div>
                            </div>
                          <div class="card-body dd-flex align-items-center"></div>
                          <div class="ad-breadcrumb ad-breadcrumb2 dd-flex">
                            <div class="form-group">
                              <div class="ad-user-btn">
                                <input type="file" name="file" id="file" class="form-control">
                              </div>
                            </div>
                            <div class="form-group ad-apply-cart">
                              <button id="uploadBtn" onclick="fileUpload(event)" class="ad-btn">上传</button>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
                <!-- Products Orders Start -->
                <div class="row">
                    <div>
                        <a th:href="@{commonback}" class="return-button">
                            <i class="fas fa-arrow-left"></i>
                            返回
                        </a>
                    </div>
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <div class="card chart-card">
                            <div class="card-header">
                                <h4>文件</h4>
                            </div>
                            <div class="card-body pb-4">
                                <div class="chart-holder">
                                    <div class="table-responsive">
                                        <table class="table table-styled mb-0">
                                            <thead>
                                                <tr>
                                                    <th>文件名</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>创建时间</th>
                                                    <th>最近操作时间</th>
                                                    <th>类型</th>
													                          <th>大小</th>
													                          <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="folders:${folders}">
                                                    <td>
                                                        <span class="img-thumb ">
                                                          <img src="../static/assets/images/my_images/文件夹.png" alt=" ">
                                                        </span>
                                                        <a th:id="|m${folders.getMid()}|" th:href="|@{index?mid=}${folders.getMid()}|" th:text="${folders.getFolderName()}" type="text"></a>
                                                        <input th:id="|M${folders.getMid()}|" type="hidden" placeholder="修改文件夹名称">
                                                    </td>
                                                    <td>
                                                    </td>
                                                    <td></td>
                                                    <td th:text="${folders.getStartTime()}"></td>
                                                    <td th:text="${folders.getLastModifiedTime()}"></td>
                                                    <td>文件夹</td>
                                                    <td>-</td>
                                                    <td class="relative">
                                                    <a class="action-btn " href="javascript:void(0); ">
                                                        <svg class="default-size "  viewBox="0 0 341.333 341.333 ">
                                                            <g>
                                                                <g>
                                                                    <g>
                                                                        <path d="M170.667,85.333c23.573,0,42.667-19.093,42.667-42.667C213.333,19.093,194.24,0,170.667,0S128,19.093,128,42.667 C128,66.24,147.093,85.333,170.667,85.333z "></path>
                                                                        <path d="M170.667,128C147.093,128,128,147.093,128,170.667s19.093,42.667,42.667,42.667s42.667-19.093,42.667-42.667 S194.24,128,170.667,128z "></path>
                                                                        <path d="M170.667,256C147.093,256,128,275.093,128,298.667c0,23.573,19.093,42.667,42.667,42.667s42.667-19.093,42.667-42.667 C213.333,275.093,194.24,256,170.667,256z "></path>
                                                                    </g>
                                                                </g>
                                                            </g>
                                                        </svg>
                                                    </a>
                                                    <div class="action-option ">
                                                        <ul>
                                                            <li>
                                                                <a th:href="'javascript:folderRename(\''+${folders.getMid()}+'\');'"><i class="far fa-edit mr-2 "></i>重命名</a>
                                                            </li>
                                                            <li>
                                                                <a th:href="'javascript:deleteFolder(\''+${folders.getMid()}+'\');'" ><i class="far fa-trash-alt mr-2 "></i>删除</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                </tr>
                                                <tr th:each="files:${list}">
                                                    <td>
                                                      <span class="img-thumb ">
                                                          <img th:src="${files.getFileImage()}" alt=" ">
                                                        </span>
                                                      <label th:id="|F${files.getFid()}|" th:text="${files.getFileName()}" type="text" placeholder="文件名"></label>
                                                      <input th:id="|f${files.getFid()}|" th:value="${files.getFileName()}" type="hidden" placeholder="修改文件名">
                                                    </td>
                                                    <td></td>
                                                    <td></td>
                                                    <td th:text="${files.getStartTime()}"></td>
                                                    <td th:text="${files.getLastModifiedTime()}"></td>
                                                    <td th:text="|${files.getType()}文件|"></td>
                                                    <td th:text="${files.getFileSize()}"></td>
                                                    <td class="relative">
                                                        <a class="action-btn " href="javascript:void(0); ">
                                                            <svg class="default-size "  viewBox="0 0 341.333 341.333 ">
                                                                <g>
                                                                    <g>
                                                                        <g>
                                                                            <path d="M170.667,85.333c23.573,0,42.667-19.093,42.667-42.667C213.333,19.093,194.24,0,170.667,0S128,19.093,128,42.667 C128,66.24,147.093,85.333,170.667,85.333z "></path>
                                                                            <path d="M170.667,128C147.093,128,128,147.093,128,170.667s19.093,42.667,42.667,42.667s42.667-19.093,42.667-42.667 S194.24,128,170.667,128z "></path>
                                                                            <path d="M170.667,256C147.093,256,128,275.093,128,298.667c0,23.573,19.093,42.667,42.667,42.667s42.667-19.093,42.667-42.667 C213.333,275.093,194.24,256,170.667,256z "></path>
                                                                        </g>
                                                                    </g>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <div class="action-option ">
                                                            <ul>
                                                                <li>
                                                                    <a th:href="'javascript:download(\''+${files.getFid()}+'\');'"><i class="far fa-edit mr-2 "></i>下载</a>
                                                                </li>
                                                                <li>
                                                                    <a th:href="'javascript:deleteFile(\''+${files.getFid()}+'\');'"><i class="far fa-trash-alt mr-2 "></i>删除</a>
                                                                </li>
                                                                <li>
                                                                    <a th:href="'javascript:rename(\''+${files.getFid()}+'\');'"><i class="far fa-edit mr-2 "></i>重命名</a>
                                                                </li>
                                                                <li>
                                                                    <a th:href="'javascript:share(\''+${files.getFid()}+'\',\''+${files.getFileName()}+'\',\''+${files.getFileSize()}+'\');'"><i class="far fa-edit mr-2 ">分享</i></a>
                                                                   <!-- <a th:href="|@{/fileShare?Fid=}${files.getFid()}&FileName=${files.getFileName}&FileSize=${files.getFileSize}|"> <i class="far fa-edit mr-2 ">分享</i></a>-->
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
				<div class="ad-footer-btm">
					<p>Copyright 2021 © SplashDash All Rights By <a href="http://www.bootstrapmb.com/">bootstrapmb</a>.</p>
				</div>
            </div>
        </div>
    </div>
    <!--文件分享弹窗-->
    <div class="modal fade bd-example-modal-lg" id="fileSharePage" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel02">文件分享</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-xl-12">
              <form class="card">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-6 col-md-4">
                      <div class="mb-3">
                        <label class="form-label">文件名</label>
                        <input id="fileName" class="form-control" placeholder="文件名">
                        <input type="hidden" id="fileId" class="form-control" placeholder="ID">
                      </div>
                    </div>

                    <div class="col-sm-6 col-md-4"></div>

                    <div class="col-sm-6 col-md-3">
                      <div class="mb-3">
                        <label class="form-label">文件大小</label>
                        <br>
                        <label id="fileSize" class="form-label"></label>
                      </div>
                    </div>

                    <div class="col-sm-6 col-md-4">
                      <div class="mb-3">
                        <label class="form-label">过期时间</label>
                        <select class="form-control btn-square" id="expirationTime">
                          <option value="1">24小时</option>
                          <option value="2">七天</option>
                          <option value="3">一个月</option>
                          <option value="4">永久</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-sm-6 col-md-4"></div>
                    <div class="col-sm-6 col-md-4"></div>

                    <div class="col-sm-6 col-md-4">
                      <div class="mb-3">
                        <label class="form-label">下载次数</label>
                        <select class="form-control btn-square" id="downloadType" onchange="downloadTypeChange()">
                          <option value="0">永久</option>
                          <option value="1">自定义</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-sm-6 col-md-4"></div>

                    <div class="col-sm-6 col-md-4">
                      <div class="mb-3">
                        <label class="form-label">自定义下载次数</label>
                        <input id="downloadNumber" class="form-control" type="text" placeholder="自定义下载次数" data-bs-original-title="" title="" disabled value="无限制">
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="shareBtn">分享</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
        </div>
      </div>
    </div>
  </div>
    <!--警告框-->
    <div class="modal fade" id="warning" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
         <div class="modal-header">
          <h5 class="modal-title" id="warning-Message-title">警告标题</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
          <div class="modal-body">
            <p id="warning-Message-body">Message内容</p>
         </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" id="warning-determine">确定</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal" id="warning-close">取消</button>
          </div>
      </div>
    </div>
    </div>
    <!--提示框-->
    <div class="modal fade" id="prompt" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title h4" id="prompt-Message-body">提示框</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
      </div>
    </div>
  </div>
    <!-- Slide Setting Box -->
    <div class="slide-setting-box">
    <div class="slide-setting-holder">
      <div class="setting-box-head">
        <h4>General Settings</h4>
        <a href="javascript:void(0);" class="close-btn">Close</a>
      </div>
      <div class="setting-box-body">
        <div class="p-4">
          <div class="switch-settings">
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">Notifications</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox55" type="checkbox">
                <label for="checkbox55"></label>
              </div>
            </div>
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">Show your emails</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox56" type="checkbox">
                <label for="checkbox56"></label>
              </div>
            </div>
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">Show Task statistics</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox57" type="checkbox">
                <label for="checkbox57"></label>
              </div>
            </div>
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">Show recent activity</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox58" type="checkbox">
                <label for="checkbox58"></label>
              </div>
            </div>
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">System Logs</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox59" type="checkbox">
                <label for="checkbox59"></label>
              </div>
            </div>
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">Error Reporting</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox60" type="checkbox">
                <label for="checkbox60"></label>
              </div>
            </div>
            <div class="d-flex mb-3">
              <span class="mr-auto fs-15">Show your status to all</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox61" type="checkbox">
                <label for="checkbox61"></label>
              </div>
            </div>
            <div class="d-flex">
              <span class="mr-auto fs-15">Keep up to date</span>
              <div class="checkbox checkbox-toggle">
                <input id="checkbox62" type="checkbox">
                <label for="checkbox62"></label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="p-3 border-top border-bottom">
        <h5 class="border-bottom-0 mb-0">Overview</h5>
      </div>
      <div class="p-4">
        <div class="progress-wrapper">
          <div class="mb-3">
            <p class="mb-2">Achieves<span class="float-right text-muted font-weight-normal">95%</span></p>
            <div class="progress h-1">
              <div class="progress-bar bg-primary col-3" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="progress-wrapper pt-2">
          <div class="mb-3">
            <p class="mb-2">Projects<span class="float-right text-muted font-weight-normal">65%</span></p>
            <div class="progress">
              <div class="progress-bar bg-secondary col-3" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="progress-wrapper pt-2">
          <div class="mb-3">
            <p class="mb-2">Earnings<span class="float-right text-muted font-weight-normal">55%</span></p>
            <div class="progress">
              <div class="progress-bar bg-success col-8" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="progress-wrapper pt-2">
          <div class="mb-3">
            <p class="mb-2">Balance<span class="float-right text-muted font-weight-normal">50%</span></p>
            <div class="progress h-1">
              <div class="progress-bar bg-warning w-50 " role="progressbar"></div>
            </div>
          </div>
        </div>
        <div class="progress-wrapper pt-2">
          <div class="mb-3">
            <p class="mb-2">Total Profits<span class="float-right text-muted font-weight-normal">80%</span></p>
            <div class="progress">
              <div class="progress-bar bg-info col-6" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="progress-wrapper pt-2">
          <div class="mb-3">
            <p class="mb-2">Total Likes<span class="float-right text-muted font-weight-normal">75%</span></p>
            <div class="progress h-1">
              <div class="progress-bar bg-teal w-75" role="progressbar"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
    <!-- Color Setting -->

    <!-- Color Setting -->

    <!-- Script Start -->
	<script src="../static/assets/js/jquery.min.js"></script>
    <script src="../static/assets/js/popper.min.js"></script>
    <script src="../static/assets/js/bootstrap.min.js"></script>
	<script src="../static/assets/js/swiper.min.js"></script>
    <script src="../static/assets/js/apexchart/apexcharts.min.js"></script>
    <script src="../static/assets/js/apexchart/control-chart-apexcharts.js"></script>
	<!-- Page Specific -->
    <script src="../static/assets/js/nice-select.min.js"></script>
    <!-- Custom Script -->
    <script src="../static/assets/js/custom.js"></script>
  <!--My js -->
  <script src="../static/assets/js/common/common.js"></script>
  <script src="../static/assets/js/file/file.js"></script>
  <script src="../static/assets/js/folder/folder.js"></script>
  <script src="../static/assets/js/fileShare/fileSharePage.js"></script>
</body>

</html>
